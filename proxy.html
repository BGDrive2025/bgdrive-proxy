<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>BGDrive Proxy</title> </head> <body> <script> (async function() { const params = new URLSearchParams(window.location.search); const targetUrl = params.get('url'); if (!targetUrl) { document.body.innerHTML = '<h1>Error: Missing url parameter</h1>'; return; } try { const response = await fetch(targetUrl); const blob = await response.blob(); const filename = params.get('filename') || 'download'; const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = filename; a.click(); URL.revokeObjectURL(url); document.body.innerHTML = '<h1>Download started...</h1>'; } catch (error) { document.body.innerHTML = '<h1>Download failed: ' + error.message + '</h1>'; } })(); </script> </body> </html>
